---
layout: post
title:  2019/5/5 《图解密码技术》第四章
date:   2019-5-5 20:05:00 +0800
categories: 文章
tag: interview
---

* content
{:toc}
# 图解密码技术(第四章)

-  密钥流 key stream ，重放攻击 replay attack

![img](https://wx2.sinaimg.cn/mw690/0066mMjily1g2q6xe3ckrj30gn0c0gov.jpg)

## CFB模式

### 什么是CFB模式

CFB模式：Cipher FeedBack 模式，密文反馈模式。

在此模式中，前一个密文分组会被送回到密码算法的输入端。反馈：返回到输入端的意思。

![img](https://wx4.sinaimg.cn/mw690/0066mMjily1g2q70skjyej30gj0dhgo7.jpg)

ECB模式与CBC模式都是将明文分组加密，而CFB模式，明文分组没有通过密码算法直接加密。

CBC模式中，明文到密文要经过加密和XOR，而CFB只需要经过XOR。

### CFB模式与流密码

- CFB模式的结构和一次性密码本非常类似。都是通过XOR来进行加密的。

  因为密码算法的输出是通过计算得到的，并不是真正的随机数，所以不具备理论上不可破译的性质。

- CFB模式中由密码算法所生成的比特序列称为密钥流，密码算法相当于用来生成密钥流的伪随机数生成器，初始化向量相当于伪随机数生成器的“种子”。
- CFB模式中，明文数据被逐比特加密，因此可以看作是一种使用分组密码来实现流密码的方式。

### CFB模式的解密

依然需要注意分组密码算法是加密操作，因为密钥流是通过加密生成的。

### 对CFB模式的攻击

- 对CFB模式可以采取重放攻击。

Mallory将Alice发送给Bob的四个密文分组的后三个截取，第二天Alice给Bob发四个分组的时候，用昨天的替换掉后三个。

Bob解密时，第一个正常解密，第二个出错，第三个和第四个是以前的明文内容，而Bob不能确定第二个出错是通信错误爱是被攻击。